{%raw%}

<main class="gifs" ng-app="MyApp">

    <div ng-controller="Search" ng-class="{'no-input': !query }">

        <section class="search">

            <form id="Search" class="search-form" ng-class="{'is-no-results': filtered.length == '0'}">
                <div class="search-results">
                    <span class="current">{{filtered.length}}</span>
                    <span class="total">{{gifs.length}}</span>
                </div>
                <input ng-model="query" type="text" placeholder="Search Gif" autofocus>
            </form>

        </section>

        <section class="gif__container" ng-class="{'is-no-results': filtered.length == '0'}">

            <div class="gif__no-results">
                <span>Nothing to <i>GIF</i> away right now, <br>try something else</span>
            </div>

            <ul masonry preserve-order>

                <li
                    class="gif-item masonry-brick {{gif.class}}"
                    ng-repeat="gif in filtered = (gifs | filter:queryResults | orderBy:'randomVal' | limitTo:15 )"
                    ng-hide="!gif.title"
                >
                    <a href="{{gif.image}}">
                        <figure class="gif">
                            <img src="{{gif.image}}" alt="{{gif.title}}">
                            <figcaption>
                                <span class="title">
                                    {%endraw%}{% include svg.html id="link" viewbox="37 20" %}{%raw%}
                                    {{gif.title}}
                                </span>
                                <span class="cat">{{gif.cat}}</span>
                            </figcaption>
                        </figure>
                    </a>
                </li>
            </ul>
        </section>
    </div>
</main>

{%endraw%}
